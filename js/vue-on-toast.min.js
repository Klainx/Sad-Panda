/**
  * vue-on-toast v1.0.0
  * (c) 2018 Stabzs
  * @license MIT
  */
!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):t.VueOnToast=o()}(this,function(){"use strict";function t(t){if(!t)throw new Error("Vue is not installed");(e=new t).subscribers=[]}function o(t){var o={animation:b.FADE,bodyClass:y,closeHtml:v,defaultTypeClass:u,typeClasses:{error:r,info:u,wait:l,success:a,warning:c},iconClasses:{error:f,info:p,wait:m,success:d,warning:C},mouseoverTimerStop:!1,newestOnTop:!0,positionClass:T,preventDuplicates:!1,tapToDismiss:!0,timeout:5e3,titleClass:h,toastContainerId:null,showCloseButton:!1};return t=Object.assign(o,t),t.typeClasses=Object.assign(o.typeClasses,t.typeClasses),t.iconClasses=Object.assign(o.iconClasses,t.iconClasses),t}function s(o){s.installed||(s.installed=!0,t(_=o),o.component("ToastContainer",x),o.prototype.$vueOnToast={pop:I.pop,remove:I.remove})}var e,n="vot",i={success:"success",error:"error",info:"info",wait:"wait",warning:"warning"},a=n+"-"+i.success,r=n+"-"+i.error,u=n+"-"+i.info,l=n+"-"+i.wait,c=n+"-"+i.warning,d=n+"-icon-"+i.success,f=n+"-icon-"+i.error,p=n+"-icon-"+i.info,m=n+"-icon-"+i.wait,C=n+"-icon-"+i.warning,h=n+"-title",y=n+"-body",T=n+"-top-right",v='<button class="toast-close-button" type="button">&times;</button>',b={FADE:"fade",EASE_OUT_LEFT:"ease-out-left",EASE_OUT_RIGHT:"ease-out-right"},w={configureTimer:function(t){var o="number"==typeof t.timeout?t.timeout:t.toastConfig.timeout;"object"==typeof o&&(o=o[t.type]),o>0&&(t.timeoutId=setTimeout(function(){e.$emit("removeToast",t.toastId,t.toastContainerId)},o))}},g={Component:"Component",TrustedHtml:"TrustedHtml"},x={name:"toast-container",data:function(){return{toasts:[]}},components:{toast:{render:function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{class:["toast",t.classes.typeClass],on:{click:function(o){t.onClick(t.toast,o)},mouseover:function(o){t.stopTimer(t.toast)},mouseout:function(o){t.restartTimer(t.toast)}}},[s("i",{staticClass:"toaster-icon",class:t.classes.iconClass}),s("div",{staticClass:"toast-content"},[s("div",{class:t.classes.titleClass},[t._v(t._s(t.toast.title))]),s("div",{class:t.classes.bodyClass},[t.toast.bodyOutputType==t.bodyOutputType.Component?s(t.toast.body,{tag:"component"}):t.toast.bodyOutputType==t.bodyOutputType.TrustedHtml?s("div",{domProps:{innerHTML:t._s(t.toast.body)}}):"string"==typeof t.toast.body?s("div",[t._v(t._s(t.toast.body))]):t._e()],1)]),t.toast.showCloseButton?s("div",{staticClass:"toast-close-button",domProps:{innerHTML:t._s(t.toast.toastConfig.closeHtml)},on:{click:function(o){t.onClick(t.toast,o,!0)}}}):t._e()])},staticRenderFns:[],name:"toast",props:{toast:Object},computed:{classes:function(){return{typeClass:this.toast.toastConfig.typeClasses[this.toast.type],iconClass:this.toast.toastConfig.iconClasses[this.toast.type],titleClass:this.toast.toastConfig.titleClass,bodyClass:this.toast.toastConfig.bodyClass}},bodyOutputType:function(){return g}},methods:{onClick:function(t,o,s){if(o.stopPropagation(),t.toastConfig.tapToDismiss||t.showCloseButton&&s){var n=!0;if(t.clickHandler){if("function"!=typeof t.clickHandler)return console.log("The toast click handler is not a callable function."),!1;n=t.clickHandler(t,s)}n&&e.$emit("removeToast",t.toastId,t.toastContainerId)}},stopTimer:function(t){t.toastConfig.mouseoverTimerStop&&t.timeoutId&&(window.clearTimeout(t.timeoutId),t.timeoutId=null)},restartTimer:function(t){t.toastConfig.mouseoverTimerStop?t.timeoutId||w.configureTimer(t):null===t.timeoutId&&e.$emit("removeToast",t.toastId,t.toastContainerId)}}}},props:["toastConfig"],methods:{addToast:function(t,o){if(t.toastConfig=o,!t.toastContainerId||!o.toastContainerId||t.toastContainerId===o.toastContainerId){if(t.type||(t.type=o.defaultTypeClass),o.preventDuplicates&&this.toasts.length>0){if(t.toastId&&this.toasts.some(function(o){return o.toastId===t.toastId}))return;if(this.toasts.some(function(o){return o.body===t.body}))return}this.setCloseOptions(t,o),t.bodyOutputType=t.bodyOutputType||o.bodyOutputType,w.configureTimer(t),o.newestOnTop?(this.toasts.unshift(t),this.isLimitExceeded(o)&&this.toasts.pop()):(this.toasts.push(t),this.isLimitExceeded(o)&&this.toasts.shift()),t.onShowCallback&&t.onShowCallback(t)}},setCloseOptions:function(t,o){null!==t.showCloseButton&&void 0!==t.showCloseButton||("object"==typeof o.showCloseButton?t.showCloseButton=o.showCloseButton[t.type]:"boolean"==typeof o.showCloseButton&&(t.showCloseButton=o.showCloseButton)),t.showCloseButton&&(t.closeHtml=t.closeHtml||o.closeHtml)},isLimitExceeded:function(t){return t.limit&&this.toasts.length>t.limit},removeToast:function(t){if(null!==t&&void 0!==t){var o=this.toasts.indexOf(t);o<0||(this.toasts.splice(o,1),t.timeoutId&&(clearTimeout(t.timeoutId),t.timeoutId=null),t.onHideCallback&&t.onHideCallback(t))}},removeToasts:function(t,o){null!==o&&void 0!==o&&o!==this._toastConfig.toastContainerId||(t?this.removeToast(this.toasts.filter(function(o){return o.toastId===t})[0]):this.removeAllToasts())},removeAllToasts:function(){for(var t=this,o=this.toasts.length-1;o>=0;o--)t.removeToast(t.toasts[o])}},computed:{_toastConfig:function(){return new o(this.toastConfig)}},created:function(){var t=this;e.subscribers.push(this),e.$on("addToast",function(o){t.addToast(o,t._toastConfig)}),e.$on("removeToast",function(o,s){t.removeToasts(o,s)})},render:function(t){return t("transition-group",{name:"toast-container",tag:"div",class:["toast-container",this._toastConfig.positionClass],props:{name:this._toastConfig.animation}},this.toasts.map(function(o){return t("toast",{class:"toast",props:{toast:o},key:o.toastId})}))}},I={pop:function(t,o,s){var n="string"==typeof t?{type:t,title:o,body:s}:t;if(!n||!n.type||!n.type.length)throw new Error("A toast type must be provided");if(e.subscribers.length<1)throw new Error("No Toaster Containers have been initialized to receive toasts.");return n.toastId=O.newGuid(),e.$emit("addToast",n),n},remove:function(t,o){e.$emit("removeToast",t,o)}},O=function(){};O.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=16*Math.random()|0;return("x"===t?o:3&o|8).toString(16)})};var _;return"undefined"!=typeof window&&window.Vue&&window.Vue.use(s),{install:s,ToastService:I}});